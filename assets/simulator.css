/* ====== Layout ====== */
:root{ --gap:14px; }
body{ background:#f6f8fb; color:#0f172a; }
.wrap{ max-width:1100px; margin:32px auto; padding:0 16px; }

.grid{ display:grid; grid-template-columns:1fr 1fr; gap:var(--gap); }
.card{ background:#fff; border:1px solid #e6eaf0; border-radius:12px; padding:16px; }

.kpis{ display:grid; grid-template-columns:repeat(4,1fr); gap:var(--gap); margin:16px 0; }
.kpi{ background:#f8fafc; border:1px solid #e6edf3; border-radius:10px; padding:12px; }
.kpi b{ display:block; font-size:14px; color:#334155; }
.kpi span{ font-size:18px; font-weight:700; }

.section-title{ font-size:16px; font-weight:700; margin:12px 0 6px; }
.muted{ color:#64748b; }

/* ====== Controls ====== */
.row{ display:flex; gap:12px; align-items:center; margin:8px 0; }
.row > label{ min-width:220px; font-weight:600; color:#0f172a; }
.row.small > label{ min-width:170px; }

.dual{ display:flex; gap:10px; align-items:center; width:100%; }
.dual input[type="number"]{
  width:120px; padding:6px 8px; border:1px solid #cbd5e1; border-radius:8px;
  background:#fff; font-size:14px;
}
.dual input[type="range"]{ flex:1; }

.help{
  display:inline-block; margin-left:8px; width:18px; height:18px; line-height:18px;
  text-align:center; border:1px solid #60a5fa; color:#2563eb; border-radius:50%;
  font-size:12px; cursor:help;
}

/* ====== Mode Pills ====== */
.mode{ display:flex; gap:10px; flex-wrap:wrap; }
.mode label{ padding:6px 10px; border:1px solid #cbd5e1; border-radius:999px; cursor:pointer; }
.mode input{ display:none; }
.mode input:checked + span{ background:#eff6ff; border-color:#60a5fa; color:#1d4ed8; }

/* ====== Charts – stability & readability ====== */
canvas{ display:block !important; }

#assetsChart, #incomeChart{
  width:100% !important;
  height:420px !important;          /* デスクトップは高さ拡大 */
  max-width:100% !important;
  image-rendering:auto;
}

/* グラフ下のツールバー（拡張JSが挿入） */
[data-lm-toolbar="1"] button{
  font-size:13px;
}

/* ====== Responsive ====== */
@media (max-width: 980px){
  .grid{ grid-template-columns:1fr; }
  .kpis{ grid-template-columns:1fr 1fr; }
}

@media (max-width: 640px){
  #assetsChart, #incomeChart{ height:320px !important; }  /* モバイルは少し低く */
  .row > label{ min-width:160px; }
}

/* --- explanatory callouts --- */
.callout { border:1px solid #e2e8f0; border-radius:12px; padding:12px 14px; background:#fff; }
.callout h3 { margin:0 0 6px; font-size:15px; }
.callout .desc { color:#475569; font-size:14px; line-height:1.6; }
.callout .tips { margin:8px 0 0; padding-left:18px; color:#475569; }
.callout .tips li{ margin:4px 0; }
details.guide{ margin:10px 0; border:1px dashed #cbd5e1; border-radius:10px; padding:8px 10px; background:#f8fafc; }
details.guide > summary{ cursor:pointer; font-weight:700; color:#334155; }
details.guide b.badge{ font-size:12px; padding:2px 8px; border:1px solid #93c5fd; color:#1d4ed8; border-radius:999px; background:#eff6ff; margin-right:6px; }
